<!doctype html>
<html lang="id">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CerdasCom Â· Edit Lesson</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
  <script defer src="https://unpkg.com/feather-icons"></script>

  <link rel="stylesheet" href="/style/home.css" />
  <link rel="stylesheet" href="/style/addCourse.css" />
</head>

<body>
  <%- include('partial/_nav') %>

  <% let error = {}; if (errors) { error = getError(errors) } %>

  <section class="container text-center py-5">
    <h1 class="section-title mb-2">Edit Lesson</h1>
    <% if (findLesson.Course) { %>
    <p class="text-secondary mb-0">Course: <strong><%= findLesson.Course.title %></strong></p>
    <% } %>
  </section>

  <main class="container pb-5" style="max-width:960px;">
    <div class="card-elev p-4 p-md-5">
      <form action="/lesson/edit/<%= findLesson.id %>" method="post" enctype="multipart/form-data">
        <div class="row g-4">

          <div class="col-12">
            <label class="form-label fw-semibold">Section Title</label>
            <input type="text" class="form-control <%= error.st ? 'is-invalid' : '' %>" name="section_title" value="<%= findLesson.section_title  %>" placeholder="Misal: Setup">
            <div class="invalid-feedback"><%= error.st %></div>
          </div>

          <div class="col-12">
            <label class="form-label fw-semibold">Title</label>
            <textarea rows="4" class="form-control <%= error.title ? 'is-invalid' : '' %>" name="title" placeholder="Tuliskan apa yang akan dipelajari"><%= findLesson.title  %></textarea>
            <div class="invalid-feedback"><%= error.title %></div>
          </div>

          <div class="col-12">
            <label class="form-label fw-semibold">Video URL</label>
            <input type="url" class="form-control <%= error.video ? 'is-invalid' : '' %>" name="video_url" value="<%= findLesson.video_url  %>" placeholder="https://www.youtube.com/watch?v=...">
            <div class="invalid-feedback"><%= error.video %></div>
          </div>

          <div class="row g-3 align-items-start mt-2">
            <div class="col-md-6">
              <label class="form-label fw-semibold">Duration (menit)</label>
              <input type="number" class="form-control <%= error.duration ? 'is-invalid' : '' %>" name="duration" value="<%= findLesson.duration  %>">
              <div class="invalid-feedback"><%= error.duration %></div>
            </div>

            <div class="col-md-6">
              <label class="form-label fw-semibold"></label>
              <input type="file" class="form-control" name="link_materi">
            </div>
          </div>

          <div class="col-12 d-flex justify-content-between pt-2">
            <button type="submit" class="btn btn-primary">Save Lesson</button>
          </div>

        </div>
      </form>
    </div>
  </main>

  <%- include('partial/_footer') %>
</body>

</html>